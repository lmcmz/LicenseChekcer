import{c as L,u as Xe,r as M,j as l,G as Ve,X as gt}from"./main-DfLmJWfL.js";import{R as C,K as Bt,C as Je}from"./localDatabase-DpUBSDud.js";import{G as xt,A as Pt,I as Ht}from"./info-qBpx0Oa_.js";import{w as Ut,x as Xt,c as et,y as Vt,s as qt,d as Gt,i as te,f as tt,g as Kt,h as nt}from"./string-BiPMbYnx.js";const Yt=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],ze=L("arrow-down",Yt);const Wt=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],Me=L("arrow-up",Wt);const Zt=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Qt=L("chevron-down",Zt);const Jt=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],en=L("chevron-right",Jt);const tn=[["path",{d:"M12 13v8l-4-4",key:"1f5nwf"}],["path",{d:"m12 21 4-4",key:"1lfcce"}],["path",{d:"M4.393 15.269A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.436 8.284",key:"ui1hmy"}]],nn=L("cloud-download",tn);const rn=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],sn=L("external-link",rn);const on=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],an=L("layout-grid",on);const ln=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],cn=L("link-2",ln);const un=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],$e=L("loader-circle",un);const hn=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],fn=L("maximize",hn);const dn=[["path",{d:"M4.037 4.688a.495.495 0 0 1 .651-.651l16 6.5a.5.5 0 0 1-.063.947l-6.124 1.58a2 2 0 0 0-1.438 1.435l-1.579 6.126a.5.5 0 0 1-.947.063z",key:"edeuup"}]],pn=L("mouse-pointer-2",dn);const mn=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],gn=L("network",mn);const xn=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],wn=L("refresh-cw",xn);const yn=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],wt=L("search",yn);const vn=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],bn=L("triangle-alert",vn);const _n=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],kn=L("zoom-in",_n);const Nn=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],An=L("zoom-out",Nn);function jn(e){return e.source}function Sn(e){return e.target}function Cn(e){let t=jn,n=Sn,r=Xt,s=Vt,i=null,o=null,c=Ut(u);function u(){let a;const h=qt.call(arguments),d=t.apply(this,h),p=n.apply(this,h);if(i==null&&(o=e(a=c())),o.lineStart(),h[0]=d,o.point(+r.apply(this,h),+s.apply(this,h)),h[0]=p,o.point(+r.apply(this,h),+s.apply(this,h)),o.lineEnd(),a)return o=null,a+""||null}return u.source=function(a){return arguments.length?(t=a,u):t},u.target=function(a){return arguments.length?(n=a,u):n},u.x=function(a){return arguments.length?(r=typeof a=="function"?a:et(+a),u):r},u.y=function(a){return arguments.length?(s=typeof a=="function"?a:et(+a),u):s},u.context=function(a){return arguments.length?(a==null?i=o=null:o=e(i=a),u):i},u}function En(){return Cn(Gt)}var rt=180/Math.PI,De={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function yt(e,t,n,r,s,i){var o,c,u;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(u=e*n+t*r)&&(n-=e*u,r-=t*u),(c=Math.sqrt(n*n+r*r))&&(n/=c,r/=c,u/=c),e*r<t*n&&(e=-e,t=-t,u=-u,o=-o),{translateX:s,translateY:i,rotate:Math.atan2(t,e)*rt,skewX:Math.atan(u)*rt,scaleX:o,scaleY:c}}var pe;function Tn(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?De:yt(t.a,t.b,t.c,t.d,t.e,t.f)}function zn(e){return e==null||(pe||(pe=document.createElementNS("http://www.w3.org/2000/svg","g")),pe.setAttribute("transform",e),!(e=pe.transform.baseVal.consolidate()))?De:(e=e.matrix,yt(e.a,e.b,e.c,e.d,e.e,e.f))}function vt(e,t,n,r){function s(a){return a.length?a.pop()+" ":""}function i(a,h,d,p,m,N){if(a!==d||h!==p){var v=m.push("translate(",null,t,null,n);N.push({i:v-4,x:te(a,d)},{i:v-2,x:te(h,p)})}else(d||p)&&m.push("translate("+d+t+p+n)}function o(a,h,d,p){a!==h?(a-h>180?h+=360:h-a>180&&(a+=360),p.push({i:d.push(s(d)+"rotate(",null,r)-2,x:te(a,h)})):h&&d.push(s(d)+"rotate("+h+r)}function c(a,h,d,p){a!==h?p.push({i:d.push(s(d)+"skewX(",null,r)-2,x:te(a,h)}):h&&d.push(s(d)+"skewX("+h+r)}function u(a,h,d,p,m,N){if(a!==d||h!==p){var v=m.push(s(m)+"scale(",null,",",null,")");N.push({i:v-4,x:te(a,d)},{i:v-2,x:te(h,p)})}else(d!==1||p!==1)&&m.push(s(m)+"scale("+d+","+p+")")}return function(a,h){var d=[],p=[];return a=e(a),h=e(h),i(a.translateX,a.translateY,h.translateX,h.translateY,d,p),o(a.rotate,h.rotate,d,p),c(a.skewX,h.skewX,d,p),u(a.scaleX,a.scaleY,h.scaleX,h.scaleY,d,p),a=h=null,function(m){for(var N=-1,v=p.length,_;++N<v;)d[(_=p[N]).i]=_.x(m);return d.join("")}}}var Mn=vt(Tn,"px, ","px)","deg)"),$n=vt(zn,", ",")",")"),In=1e-12;function st(e){return((e=Math.exp(e))+1/e)/2}function Ln(e){return((e=Math.exp(e))-1/e)/2}function Rn(e){return((e=Math.exp(2*e))-1)/(e+1)}const Dn=(function e(t,n,r){function s(i,o){var c=i[0],u=i[1],a=i[2],h=o[0],d=o[1],p=o[2],m=h-c,N=d-u,v=m*m+N*N,_,w;if(v<In)w=Math.log(p/a)/t,_=function(V){return[c+V*m,u+V*N,a*Math.exp(t*V*w)]};else{var j=Math.sqrt(v),T=(p*p-a*a+r*v)/(2*a*n*j),$=(p*p-a*a-r*v)/(2*p*n*j),D=Math.log(Math.sqrt(T*T+1)-T),F=Math.log(Math.sqrt($*$+1)-$);w=(F-D)/t,_=function(V){var re=V*w,se=st(D),J=a/(n*j)*(se*Rn(t*re+D)-Ln(D));return[c+J*m,u+J*N,a*se/st(t*re+D)]}}return _.duration=w*1e3*t/Math.SQRT2,_}return s.rho=function(i){var o=Math.max(.001,+i),c=o*o,u=c*c;return e(o,c,u)},s})(Math.SQRT2,2,4),Fn=async e=>{if(e.length===0)return[];try{const t=await fetch("/api/audit-licenses",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({dependencies:e})});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const n=await t.json();if(!n.success)throw new Error(n.error||"Failed to audit dependencies");return n.data||[]}catch(t){throw console.error("Audit error:",t),t}},On=new Set(["name","version","description","scripts","type","main","module","exports","author","license","engines","private","keywords","repository","bugs","homepage","devDependencies","dependencies","peerDependencies","optionalDependencies","workspaces","publishConfig","dependenciesMeta","bundleDependencies","bundledDependencies","cpu","os"]),Bn=e=>{const t=[],n=e.trim();try{const m=JSON.parse(n),N=["dependencies","devDependencies","peerDependencies","optionalDependencies"];let v=!1;if(N.forEach(_=>{if(m[_]&&typeof m[_]=="object"){v=!0;for(const[w,j]of Object.entries(m[_]))typeof j=="string"&&t.push({name:w,version:j})}}),m.dependencies&&typeof m.dependencies=="object"&&!v&&(v=!0,Object.entries(m.dependencies).forEach(([_,w])=>{w.version&&t.push({name:_,version:w.version})})),m.packages&&typeof m.packages=="object"&&!v&&(v=!0,Object.entries(m.packages).forEach(([_,w])=>{if(_&&_!==""&&w.version){const j=_.replace(/^node_modules\//,"");j&&!j.includes("/node_modules/")&&t.push({name:j,version:w.version})}})),(m.default||m._meta)&&!v){v=!0;const _=m.default||{};Object.entries(_).forEach(([w,j])=>{j.version&&t.push({name:w,version:j.version.replace(/^==/,"")})})}if(m.packages&&Array.isArray(m.packages)&&!v&&(v=!0,m.packages.forEach(_=>{_.name&&_.version&&t.push({name:_.name,version:_.version})})),m.pins&&Array.isArray(m.pins)&&(v=!0,m.pins.forEach(_=>{t.push({name:_.identity||_.package||it(_.location),version:_.state?.version||"latest"})})),v)return t}catch{}let r;const s=/"?([^@\s"]+)@[^:]*:\s*version\s+"([^"]+)"/g;for(;(r=s.exec(n))!==null;)t.push({name:r[1],version:r[2]});if(t.length>0)return t;const i=/name\s*=\s*"([^"]+)"[\s\S]{0,200}?version\s*=\s*"([^"]+)"/g;for(;(r=i.exec(n))!==null;)t.push({name:r[1],version:r[2]});if(t.length>0)return t;const o=/^\s{4}(\S+)\s+\(([^)]+)\)/gm;for(;(r=o.exec(n))!==null;)t.push({name:r[1],version:r[2]});if(t.length>0)return t;const c=/require\s+([^\s]+)\s+([^\s\n\r]+)/g;for(;(r=c.exec(n))!==null;)t.push({name:r[1],version:r[2]});const u=/^([^\s]+)\s+(v[^\s]+)/gm;for(;(r=u.exec(n))!==null;)t.push({name:r[1],version:r[2]});const a=/^([a-zA-Z0-9\-_]+)\s*=\s*["']?([^"'\n]+)["']?/gm;for(;(r=a.exec(n))!==null;)["package","lib","bin"].includes(r[1])||t.push({name:r[1],version:r[2]});const h=/<dependency>[\s\S]*?<artifactId>(.*?)<\/artifactId>[\s\S]*?<version>(.*?)<\/version>/g;for(;(r=h.exec(n))!==null;)t.push({name:r[1],version:r[2]});const d=/(?:implementation|api|testImplementation|classpath)\s+['"]([^:]+):([^:]+):([^'"]+)['"]/g;for(;(r=d.exec(n))!==null;)t.push({name:`${r[1]}:${r[2]}`,version:r[3]});const p=/\.package\(url:\s*["']([^"']+)["'],\s*(?:from|branch|revision):\s*["']([^"']+)["']\)/g;for(;(r=p.exec(n))!==null;)t.push({name:it(r[1]),version:r[2]});if(t.length===0){const m=n.split(`
`),N=/["']?([^"':\s=<>!]+)["']?\s*[:=<>!]+\s*["']?([^"'\s,;]+)["']?/;m.forEach(v=>{const _=v.trim();if(!_||_.startsWith("//")||_.startsWith("#")||_.startsWith("/*"))return;const w=_.match(N);w&&!On.has(w[1])&&t.push({name:w[1],version:w[2]})})}return t},it=e=>{const t=e.replace(/\/$/,"").split("/");return t[t.length-1].replace(/\.git$/,"")},Pn=e=>{console.log("Cache save disabled - TODO: implement database storage")},Hn=(e,t)=>null,ot={[C.HIGH]:3,[C.CAUTION]:2,[C.SAFE]:1,[C.UNKNOWN]:0},Un=({audits:e})=>{const{t}=Xe(),[n,r]=M.useState("risk"),[s,i]=M.useState("desc"),o=M.useMemo(()=>[...e].sort((d,p)=>{let m=0;return n==="name"&&(m=d.name.localeCompare(p.name)),n==="license"&&(m=d.license.localeCompare(p.license)),n==="risk"&&(m=ot[d.riskLevel]-ot[p.riskLevel]),s==="asc"?m:-m}),[e,n,s]),c=d=>{n===d?i(s==="asc"?"desc":"asc"):(r(d),i("desc"))},u=d=>d.toLowerCase().includes("github.com"),a=d=>{try{return new URL(d).hostname.replace("www.","")}catch{return d}},h=d=>{switch(d){case C.SAFE:return t("risks.safe");case C.CAUTION:return t("risks.caution");case C.HIGH:return t("risks.high");default:return t("risks.unknown")}};return e.length===0?null:l.jsx("div",{className:"overflow-x-auto rounded-2xl border border-slate-200 dark:border-white/10 bg-white dark:bg-[#0A0A0A] shadow-sm",children:l.jsxs("table",{className:"w-full text-left border-collapse",children:[l.jsx("thead",{className:"bg-slate-50 dark:bg-white/[0.02] border-b border-slate-200 dark:border-white/10",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest cursor-pointer hover:text-black dark:hover:text-white transition-colors",onClick:()=>c("name"),children:l.jsxs("div",{className:"flex items-center gap-1",children:[t("table.dependency")," ",n==="name"&&(s==="asc"?l.jsx(Me,{className:"w-3 h-3"}):l.jsx(ze,{className:"w-3 h-3"}))]})}),l.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest cursor-pointer hover:text-black dark:hover:text-white transition-colors",onClick:()=>c("license"),children:l.jsxs("div",{className:"flex items-center gap-1",children:[t("table.license")," ",n==="license"&&(s==="asc"?l.jsx(Me,{className:"w-3 h-3"}):l.jsx(ze,{className:"w-3 h-3"}))]})}),l.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest cursor-pointer hover:text-black dark:hover:text-white transition-colors",onClick:()=>c("risk"),children:l.jsxs("div",{className:"flex items-center gap-1",children:[t("table.risk")," ",n==="risk"&&(s==="asc"?l.jsx(Me,{className:"w-3 h-3"}):l.jsx(ze,{className:"w-3 h-3"}))]})}),l.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:t("table.assessment")})]})}),l.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-white/5",children:o.map((d,p)=>l.jsxs("tr",{className:"group hover:bg-slate-50 dark:hover:bg-white/[0.01] transition-colors",children:[l.jsxs("td",{className:"px-6 py-5",children:[l.jsx("div",{className:"font-bold text-xs text-black dark:text-white",children:d.name}),l.jsxs("div",{className:"text-[9px] text-slate-400 font-mono mt-0.5",children:["v",d.version]})]}),l.jsx("td",{className:"px-6 py-5",children:l.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-[10px] font-bold bg-slate-100 dark:bg-white/5 text-slate-600 dark:text-slate-400 border border-slate-200 dark:border-white/5",children:d.license})}),l.jsx("td",{className:"px-6 py-5",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:`w-2 h-2 rounded-full ${d.riskLevel===C.SAFE?"bg-emerald-500 shadow-[0_0_8px_rgba(16,185,129,0.4)]":d.riskLevel===C.CAUTION?"bg-amber-500 shadow-[0_0_8px_rgba(245,158,11,0.4)]":"bg-rose-500 shadow-[0_0_8px_rgba(244,63,94,0.4)]"}`}),l.jsx("span",{className:`text-[10px] font-black uppercase tracking-tight ${d.riskLevel===C.SAFE?"text-emerald-600 dark:text-emerald-400":d.riskLevel===C.CAUTION?"text-amber-600 dark:text-amber-400":"text-rose-600 dark:text-rose-400"}`,children:h(d.riskLevel)})]})}),l.jsxs("td",{className:"px-6 py-5",children:[l.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 leading-relaxed max-w-sm mb-3",children:d.reason}),l.jsx("div",{className:"flex flex-wrap gap-3",children:d.repository&&l.jsxs("a",{href:d.repository,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1.5 text-[10px] font-bold text-blue-500 hover:text-blue-600 transition-colors uppercase",children:[u(d.repository)?l.jsx(Ve,{className:"w-3.5 h-3.5"}):l.jsx(xt,{className:"w-3.5 h-3.5"}),a(d.repository)]})})]})]},`${d.name}-${p}`))})]})})},Xn=({audits:e})=>{const{t}=Xe(),n=e.reduce((r,s)=>(s.riskLevel===C.SAFE?r.safe++:s.riskLevel===C.CAUTION?r.caution++:s.riskLevel===C.HIGH?r.high++:r.unknown++,r),{safe:0,caution:0,high:0,unknown:0});return l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{label:t("summary.total"),val:e.length,color:"text-black dark:text-white"},{label:t("summary.safe"),val:n.safe,color:"text-emerald-500",border:"border-emerald-500/20"},{label:t("summary.atRisk"),val:n.high+n.caution,color:"text-rose-500",border:"border-rose-500/20"},{label:t("summary.compliance"),val:e.length?`${Math.round(n.safe/e.length*100)}%`:"0%",color:"text-blue-500",border:"border-blue-500/20"}].map((r,s)=>l.jsxs("div",{className:"bg-white dark:bg-[#0A0A0A] p-5 rounded-xl border border-slate-200 dark:border-white/10",children:[l.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest mb-1",children:r.label}),l.jsx("p",{className:`text-2xl font-black ${r.color} tracking-tighter`,children:r.val})]},s))})};function Vn(e){var t=0,n=e.children,r=n&&n.length;if(!r)t=1;else for(;--r>=0;)t+=n[r].value;e.value=t}function qn(){return this.eachAfter(Vn)}function Gn(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this}function Kn(e,t){for(var n=this,r=[n],s,i,o=-1;n=r.pop();)if(e.call(t,n,++o,this),s=n.children)for(i=s.length-1;i>=0;--i)r.push(s[i]);return this}function Yn(e,t){for(var n=this,r=[n],s=[],i,o,c,u=-1;n=r.pop();)if(s.push(n),i=n.children)for(o=0,c=i.length;o<c;++o)r.push(i[o]);for(;n=s.pop();)e.call(t,n,++u,this);return this}function Wn(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r}function Zn(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,s=r&&r.length;--s>=0;)n+=r[s].value;t.value=n})}function Qn(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function Jn(e){for(var t=this,n=er(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var s=r.length;e!==n;)r.splice(s,0,e),e=e.parent;return r}function er(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),s=null;for(e=n.pop(),t=r.pop();e===t;)s=e,e=n.pop(),t=r.pop();return s}function tr(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function nr(){return Array.from(this)}function rr(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function sr(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function*ir(){var e=this,t,n=[e],r,s,i;do for(t=n.reverse(),n=[];e=t.pop();)if(yield e,r=e.children)for(s=0,i=r.length;s<i;++s)n.push(r[s]);while(n.length)}function qe(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=lr)):t===void 0&&(t=ar);for(var n=new he(e),r,s=[n],i,o,c,u;r=s.pop();)if((o=t(r.data))&&(u=(o=Array.from(o)).length))for(r.children=o,c=u-1;c>=0;--c)s.push(i=o[c]=new he(o[c])),i.parent=r,i.depth=r.depth+1;return n.eachBefore(ur)}function or(){return qe(this).eachBefore(cr)}function ar(e){return e.children}function lr(e){return Array.isArray(e)?e[1]:null}function cr(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function ur(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function he(e){this.data=e,this.depth=this.height=0,this.parent=null}he.prototype=qe.prototype={constructor:he,count:qn,each:Gn,eachAfter:Yn,eachBefore:Kn,find:Wn,sum:Zn,sort:Qn,path:Jn,ancestors:tr,descendants:nr,leaves:rr,links:sr,copy:or,[Symbol.iterator]:ir};function hr(e,t){return e.parent===t.parent?1:2}function Ie(e){var t=e.children;return t?t[0]:e.t}function Le(e){var t=e.children;return t?t[t.length-1]:e.t}function fr(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function dr(e){for(var t=0,n=0,r=e.children,s=r.length,i;--s>=0;)i=r[s],i.z+=t,i.m+=t,t+=i.s+(n+=i.c)}function pr(e,t,n){return e.a.parent===t.parent?e.a:n}function xe(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}xe.prototype=Object.create(he.prototype);function mr(e){for(var t=new xe(e,0),n,r=[t],s,i,o,c;n=r.pop();)if(i=n._.children)for(n.children=new Array(c=i.length),o=c-1;o>=0;--o)r.push(s=n.children[o]=new xe(i[o],o)),s.parent=n;return(t.parent=new xe(null,0)).children=[t],t}function gr(){var e=hr,t=1,n=1,r=null;function s(a){var h=mr(a);if(h.eachAfter(i),h.parent.m=-h.z,h.eachBefore(o),r)a.eachBefore(u);else{var d=a,p=a,m=a;a.eachBefore(function(j){j.x<d.x&&(d=j),j.x>p.x&&(p=j),j.depth>m.depth&&(m=j)});var N=d===p?1:e(d,p)/2,v=N-d.x,_=t/(p.x+N+v),w=n/(m.depth||1);a.eachBefore(function(j){j.x=(j.x+v)*_,j.y=j.depth*w})}return a}function i(a){var h=a.children,d=a.parent.children,p=a.i?d[a.i-1]:null;if(h){dr(a);var m=(h[0].z+h[h.length-1].z)/2;p?(a.z=p.z+e(a._,p._),a.m=a.z-m):a.z=m}else p&&(a.z=p.z+e(a._,p._));a.parent.A=c(a,p,a.parent.A||d[0])}function o(a){a._.x=a.z+a.parent.m,a.m+=a.parent.m}function c(a,h,d){if(h){for(var p=a,m=a,N=h,v=p.parent.children[0],_=p.m,w=m.m,j=N.m,T=v.m,$;N=Le(N),p=Ie(p),N&&p;)v=Ie(v),m=Le(m),m.a=a,$=N.z+j-p.z-_+e(N._,p._),$>0&&(fr(pr(N,a,d),a,$),_+=$,w+=$),j+=N.m,_+=p.m,T+=v.m,w+=m.m;N&&!Le(m)&&(m.t=N,m.m+=j-w),p&&!Ie(v)&&(v.t=p,v.m+=_-T,d=a)}return d}function u(a){a.x*=t,a.y=a.depth*n}return s.separation=function(a){return arguments.length?(e=a,s):e},s.size=function(a){return arguments.length?(r=!1,t=+a[0],n=+a[1],s):r?null:[t,n]},s.nodeSize=function(a){return arguments.length?(r=!0,t=+a[0],n=+a[1],s):r?[t,n]:null},s}var xr={value:()=>{}};function Ge(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new we(n)}function we(e){this._=e}function wr(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",s=n.indexOf(".");if(s>=0&&(r=n.slice(s+1),n=n.slice(0,s)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}we.prototype=Ge.prototype={constructor:we,on:function(e,t){var n=this._,r=wr(e+"",n),s,i=-1,o=r.length;if(arguments.length<2){for(;++i<o;)if((s=(e=r[i]).type)&&(s=yr(n[s],e.name)))return s;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<o;)if(s=(e=r[i]).type)n[s]=at(n[s],e.name,t);else if(t==null)for(s in n)n[s]=at(n[s],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new we(e)},call:function(e,t){if((s=arguments.length-2)>0)for(var n=new Array(s),r=0,s,i;r<s;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],r=0,s=i.length;r<s;++r)i[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],s=0,i=r.length;s<i;++s)r[s].value.apply(t,n)}};function yr(e,t){for(var n=0,r=e.length,s;n<r;++n)if((s=e[n]).name===t)return s.value}function at(e,t,n){for(var r=0,s=e.length;r<s;++r)if(e[r].name===t){e[r]=xr,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Fe="http://www.w3.org/1999/xhtml";const lt={svg:"http://www.w3.org/2000/svg",xhtml:Fe,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Se(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),lt.hasOwnProperty(t)?{space:lt[t],local:e}:e}function vr(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Fe&&t.documentElement.namespaceURI===Fe?t.createElement(e):t.createElementNS(n,e)}}function br(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function bt(e){var t=Se(e);return(t.local?br:vr)(t)}function _r(){}function Ke(e){return e==null?_r:function(){return this.querySelector(e)}}function kr(e){typeof e!="function"&&(e=Ke(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var i=t[s],o=i.length,c=r[s]=new Array(o),u,a,h=0;h<o;++h)(u=i[h])&&(a=e.call(u,u.__data__,h,i))&&("__data__"in u&&(a.__data__=u.__data__),c[h]=a);return new B(r,this._parents)}function Nr(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Ar(){return[]}function _t(e){return e==null?Ar:function(){return this.querySelectorAll(e)}}function jr(e){return function(){return Nr(e.apply(this,arguments))}}function Sr(e){typeof e=="function"?e=jr(e):e=_t(e);for(var t=this._groups,n=t.length,r=[],s=[],i=0;i<n;++i)for(var o=t[i],c=o.length,u,a=0;a<c;++a)(u=o[a])&&(r.push(e.call(u,u.__data__,a,o)),s.push(u));return new B(r,s)}function kt(e){return function(){return this.matches(e)}}function Nt(e){return function(t){return t.matches(e)}}var Cr=Array.prototype.find;function Er(e){return function(){return Cr.call(this.children,e)}}function Tr(){return this.firstElementChild}function zr(e){return this.select(e==null?Tr:Er(typeof e=="function"?e:Nt(e)))}var Mr=Array.prototype.filter;function $r(){return Array.from(this.children)}function Ir(e){return function(){return Mr.call(this.children,e)}}function Lr(e){return this.selectAll(e==null?$r:Ir(typeof e=="function"?e:Nt(e)))}function Rr(e){typeof e!="function"&&(e=kt(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var i=t[s],o=i.length,c=r[s]=[],u,a=0;a<o;++a)(u=i[a])&&e.call(u,u.__data__,a,i)&&c.push(u);return new B(r,this._parents)}function At(e){return new Array(e.length)}function Dr(){return new B(this._enter||this._groups.map(At),this._parents)}function _e(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}_e.prototype={constructor:_e,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Fr(e){return function(){return e}}function Or(e,t,n,r,s,i){for(var o=0,c,u=t.length,a=i.length;o<a;++o)(c=t[o])?(c.__data__=i[o],r[o]=c):n[o]=new _e(e,i[o]);for(;o<u;++o)(c=t[o])&&(s[o]=c)}function Br(e,t,n,r,s,i,o){var c,u,a=new Map,h=t.length,d=i.length,p=new Array(h),m;for(c=0;c<h;++c)(u=t[c])&&(p[c]=m=o.call(u,u.__data__,c,t)+"",a.has(m)?s[c]=u:a.set(m,u));for(c=0;c<d;++c)m=o.call(e,i[c],c,i)+"",(u=a.get(m))?(r[c]=u,u.__data__=i[c],a.delete(m)):n[c]=new _e(e,i[c]);for(c=0;c<h;++c)(u=t[c])&&a.get(p[c])===u&&(s[c]=u)}function Pr(e){return e.__data__}function Hr(e,t){if(!arguments.length)return Array.from(this,Pr);var n=t?Br:Or,r=this._parents,s=this._groups;typeof e!="function"&&(e=Fr(e));for(var i=s.length,o=new Array(i),c=new Array(i),u=new Array(i),a=0;a<i;++a){var h=r[a],d=s[a],p=d.length,m=Ur(e.call(h,h&&h.__data__,a,r)),N=m.length,v=c[a]=new Array(N),_=o[a]=new Array(N),w=u[a]=new Array(p);n(h,d,v,_,w,m,t);for(var j=0,T=0,$,D;j<N;++j)if($=v[j]){for(j>=T&&(T=j+1);!(D=_[T])&&++T<N;);$._next=D||null}}return o=new B(o,r),o._enter=c,o._exit=u,o}function Ur(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Xr(){return new B(this._exit||this._groups.map(At),this._parents)}function Vr(e,t,n){var r=this.enter(),s=this,i=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(s=t(s),s&&(s=s.selection())),n==null?i.remove():n(i),r&&s?r.merge(s).order():s}function qr(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,s=n.length,i=r.length,o=Math.min(s,i),c=new Array(s),u=0;u<o;++u)for(var a=n[u],h=r[u],d=a.length,p=c[u]=new Array(d),m,N=0;N<d;++N)(m=a[N]||h[N])&&(p[N]=m);for(;u<s;++u)c[u]=n[u];return new B(c,this._parents)}function Gr(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],s=r.length-1,i=r[s],o;--s>=0;)(o=r[s])&&(i&&o.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(o,i),i=o);return this}function Kr(e){e||(e=Yr);function t(d,p){return d&&p?e(d.__data__,p.__data__):!d-!p}for(var n=this._groups,r=n.length,s=new Array(r),i=0;i<r;++i){for(var o=n[i],c=o.length,u=s[i]=new Array(c),a,h=0;h<c;++h)(a=o[h])&&(u[h]=a);u.sort(t)}return new B(s,this._parents).order()}function Yr(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Wr(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Zr(){return Array.from(this)}function Qr(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],s=0,i=r.length;s<i;++s){var o=r[s];if(o)return o}return null}function Jr(){let e=0;for(const t of this)++e;return e}function es(){return!this.node()}function ts(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var s=t[n],i=0,o=s.length,c;i<o;++i)(c=s[i])&&e.call(c,c.__data__,i,s);return this}function ns(e){return function(){this.removeAttribute(e)}}function rs(e){return function(){this.removeAttributeNS(e.space,e.local)}}function ss(e,t){return function(){this.setAttribute(e,t)}}function is(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function os(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function as(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function ls(e,t){var n=Se(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?rs:ns:typeof t=="function"?n.local?as:os:n.local?is:ss)(n,t))}function jt(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function cs(e){return function(){this.style.removeProperty(e)}}function us(e,t,n){return function(){this.style.setProperty(e,t,n)}}function hs(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function fs(e,t,n){return arguments.length>1?this.each((t==null?cs:typeof t=="function"?hs:us)(e,t,n??"")):ie(this.node(),e)}function ie(e,t){return e.style.getPropertyValue(t)||jt(e).getComputedStyle(e,null).getPropertyValue(t)}function ds(e){return function(){delete this[e]}}function ps(e,t){return function(){this[e]=t}}function ms(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function gs(e,t){return arguments.length>1?this.each((t==null?ds:typeof t=="function"?ms:ps)(e,t)):this.node()[e]}function St(e){return e.trim().split(/^|\s+/)}function Ye(e){return e.classList||new Ct(e)}function Ct(e){this._node=e,this._names=St(e.getAttribute("class")||"")}Ct.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Et(e,t){for(var n=Ye(e),r=-1,s=t.length;++r<s;)n.add(t[r])}function Tt(e,t){for(var n=Ye(e),r=-1,s=t.length;++r<s;)n.remove(t[r])}function xs(e){return function(){Et(this,e)}}function ws(e){return function(){Tt(this,e)}}function ys(e,t){return function(){(t.apply(this,arguments)?Et:Tt)(this,e)}}function vs(e,t){var n=St(e+"");if(arguments.length<2){for(var r=Ye(this.node()),s=-1,i=n.length;++s<i;)if(!r.contains(n[s]))return!1;return!0}return this.each((typeof t=="function"?ys:t?xs:ws)(n,t))}function bs(){this.textContent=""}function _s(e){return function(){this.textContent=e}}function ks(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Ns(e){return arguments.length?this.each(e==null?bs:(typeof e=="function"?ks:_s)(e)):this.node().textContent}function As(){this.innerHTML=""}function js(e){return function(){this.innerHTML=e}}function Ss(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Cs(e){return arguments.length?this.each(e==null?As:(typeof e=="function"?Ss:js)(e)):this.node().innerHTML}function Es(){this.nextSibling&&this.parentNode.appendChild(this)}function Ts(){return this.each(Es)}function zs(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ms(){return this.each(zs)}function $s(e){var t=typeof e=="function"?e:bt(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Is(){return null}function Ls(e,t){var n=typeof e=="function"?e:bt(e),r=t==null?Is:typeof t=="function"?t:Ke(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Rs(){var e=this.parentNode;e&&e.removeChild(this)}function Ds(){return this.each(Rs)}function Fs(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Os(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Bs(e){return this.select(e?Os:Fs)}function Ps(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Hs(e){return function(t){e.call(this,t,this.__data__)}}function Us(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function Xs(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,s=t.length,i;n<s;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++r]=i;++r?t.length=r:delete this.__on}}}function Vs(e,t,n){return function(){var r=this.__on,s,i=Hs(t);if(r){for(var o=0,c=r.length;o<c;++o)if((s=r[o]).type===e.type&&s.name===e.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=i,s.options=n),s.value=t;return}}this.addEventListener(e.type,i,n),s={type:e.type,name:e.name,value:t,listener:i,options:n},r?r.push(s):this.__on=[s]}}function qs(e,t,n){var r=Us(e+""),s,i=r.length,o;if(arguments.length<2){var c=this.node().__on;if(c){for(var u=0,a=c.length,h;u<a;++u)for(s=0,h=c[u];s<i;++s)if((o=r[s]).type===h.type&&o.name===h.name)return h.value}return}for(c=t?Vs:Xs,s=0;s<i;++s)this.each(c(r[s],t,n));return this}function zt(e,t,n){var r=jt(e),s=r.CustomEvent;typeof s=="function"?s=new s(t,n):(s=r.document.createEvent("Event"),n?(s.initEvent(t,n.bubbles,n.cancelable),s.detail=n.detail):s.initEvent(t,!1,!1)),e.dispatchEvent(s)}function Gs(e,t){return function(){return zt(this,e,t)}}function Ks(e,t){return function(){return zt(this,e,t.apply(this,arguments))}}function Ys(e,t){return this.each((typeof t=="function"?Ks:Gs)(e,t))}function*Ws(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],s=0,i=r.length,o;s<i;++s)(o=r[s])&&(yield o)}var Mt=[null];function B(e,t){this._groups=e,this._parents=t}function de(){return new B([[document.documentElement]],Mt)}function Zs(){return this}B.prototype=de.prototype={constructor:B,select:kr,selectAll:Sr,selectChild:zr,selectChildren:Lr,filter:Rr,data:Hr,enter:Dr,exit:Xr,join:Vr,merge:qr,selection:Zs,order:Gr,sort:Kr,call:Wr,nodes:Zr,node:Qr,size:Jr,empty:es,each:ts,attr:ls,style:fs,property:gs,classed:vs,text:Ns,html:Cs,raise:Ts,lower:Ms,append:$s,insert:Ls,remove:Ds,clone:Bs,datum:Ps,on:qs,dispatch:Ys,[Symbol.iterator]:Ws};function P(e){return typeof e=="string"?new B([[document.querySelector(e)]],[document.documentElement]):new B([[e]],Mt)}function Qs(e){let t;for(;t=e.sourceEvent;)e=t;return e}function ee(e,t){if(e=Qs(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var s=t.getBoundingClientRect();return[e.clientX-s.left-t.clientLeft,e.clientY-s.top-t.clientTop]}}return[e.pageX,e.pageY]}const Oe={capture:!0,passive:!1};function Be(e){e.preventDefault(),e.stopImmediatePropagation()}function Js(e){var t=e.document.documentElement,n=P(e).on("dragstart.drag",Be,Oe);"onselectstart"in t?n.on("selectstart.drag",Be,Oe):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function ei(e,t){var n=e.document.documentElement,r=P(e).on("dragstart.drag",null);t&&(r.on("click.drag",Be,Oe),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var oe=0,ce=0,ae=0,$t=1e3,ke,ue,Ne=0,ne=0,Ce=0,fe=typeof performance=="object"&&performance.now?performance:Date,It=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function We(){return ne||(It(ti),ne=fe.now()+Ce)}function ti(){ne=0}function Ae(){this._call=this._time=this._next=null}Ae.prototype=Lt.prototype={constructor:Ae,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?We():+n)+(t==null?0:+t),!this._next&&ue!==this&&(ue?ue._next=this:ke=this,ue=this),this._call=e,this._time=n,Pe()},stop:function(){this._call&&(this._call=null,this._time=1/0,Pe())}};function Lt(e,t,n){var r=new Ae;return r.restart(e,t,n),r}function ni(){We(),++oe;for(var e=ke,t;e;)(t=ne-e._time)>=0&&e._call.call(void 0,t),e=e._next;--oe}function ct(){ne=(Ne=fe.now())+Ce,oe=ce=0;try{ni()}finally{oe=0,si(),ne=0}}function ri(){var e=fe.now(),t=e-Ne;t>$t&&(Ce-=t,Ne=e)}function si(){for(var e,t=ke,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:ke=n);ue=e,Pe(r)}function Pe(e){if(!oe){ce&&(ce=clearTimeout(ce));var t=e-ne;t>24?(e<1/0&&(ce=setTimeout(ct,e-fe.now()-Ce)),ae&&(ae=clearInterval(ae))):(ae||(Ne=fe.now(),ae=setInterval(ri,$t)),oe=1,It(ct))}}function ut(e,t,n){var r=new Ae;return t=t==null?0:+t,r.restart(s=>{r.stop(),e(s+t)},t,n),r}var ii=Ge("start","end","cancel","interrupt"),oi=[],Rt=0,ht=1,He=2,ye=3,ft=4,Ue=5,ve=6;function Ee(e,t,n,r,s,i){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;ai(e,n,{name:t,index:r,group:s,on:ii,tween:oi,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:Rt})}function Ze(e,t){var n=X(e,t);if(n.state>Rt)throw new Error("too late; already scheduled");return n}function G(e,t){var n=X(e,t);if(n.state>ye)throw new Error("too late; already running");return n}function X(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function ai(e,t,n){var r=e.__transition,s;r[t]=n,n.timer=Lt(i,0,n.time);function i(a){n.state=ht,n.timer.restart(o,n.delay,n.time),n.delay<=a&&o(a-n.delay)}function o(a){var h,d,p,m;if(n.state!==ht)return u();for(h in r)if(m=r[h],m.name===n.name){if(m.state===ye)return ut(o);m.state===ft?(m.state=ve,m.timer.stop(),m.on.call("interrupt",e,e.__data__,m.index,m.group),delete r[h]):+h<t&&(m.state=ve,m.timer.stop(),m.on.call("cancel",e,e.__data__,m.index,m.group),delete r[h])}if(ut(function(){n.state===ye&&(n.state=ft,n.timer.restart(c,n.delay,n.time),c(a))}),n.state=He,n.on.call("start",e,e.__data__,n.index,n.group),n.state===He){for(n.state=ye,s=new Array(p=n.tween.length),h=0,d=-1;h<p;++h)(m=n.tween[h].value.call(e,e.__data__,n.index,n.group))&&(s[++d]=m);s.length=d+1}}function c(a){for(var h=a<n.duration?n.ease.call(null,a/n.duration):(n.timer.restart(u),n.state=Ue,1),d=-1,p=s.length;++d<p;)s[d].call(e,h);n.state===Ue&&(n.on.call("end",e,e.__data__,n.index,n.group),u())}function u(){n.state=ve,n.timer.stop(),delete r[t];for(var a in r)return;delete e.__transition}}function be(e,t){var n=e.__transition,r,s,i=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){i=!1;continue}s=r.state>He&&r.state<Ue,r.state=ve,r.timer.stop(),r.on.call(s?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]}i&&delete e.__transition}}function li(e){return this.each(function(){be(this,e)})}function ci(e,t){var n,r;return function(){var s=G(this,e),i=s.tween;if(i!==n){r=n=i;for(var o=0,c=r.length;o<c;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}s.tween=r}}function ui(e,t,n){var r,s;if(typeof n!="function")throw new Error;return function(){var i=G(this,e),o=i.tween;if(o!==r){s=(r=o).slice();for(var c={name:t,value:n},u=0,a=s.length;u<a;++u)if(s[u].name===t){s[u]=c;break}u===a&&s.push(c)}i.tween=s}}function hi(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=X(this.node(),n).tween,s=0,i=r.length,o;s<i;++s)if((o=r[s]).name===e)return o.value;return null}return this.each((t==null?ci:ui)(n,e,t))}function Qe(e,t,n){var r=e._id;return e.each(function(){var s=G(this,r);(s.value||(s.value={}))[t]=n.apply(this,arguments)}),function(s){return X(s,r).value[t]}}function Dt(e,t){var n;return(typeof t=="number"?te:t instanceof nt?tt:(n=nt(t))?(t=n,tt):Kt)(e,t)}function fi(e){return function(){this.removeAttribute(e)}}function di(e){return function(){this.removeAttributeNS(e.space,e.local)}}function pi(e,t,n){var r,s=n+"",i;return function(){var o=this.getAttribute(e);return o===s?null:o===r?i:i=t(r=o,n)}}function mi(e,t,n){var r,s=n+"",i;return function(){var o=this.getAttributeNS(e.space,e.local);return o===s?null:o===r?i:i=t(r=o,n)}}function gi(e,t,n){var r,s,i;return function(){var o,c=n(this),u;return c==null?void this.removeAttribute(e):(o=this.getAttribute(e),u=c+"",o===u?null:o===r&&u===s?i:(s=u,i=t(r=o,c)))}}function xi(e,t,n){var r,s,i;return function(){var o,c=n(this),u;return c==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),u=c+"",o===u?null:o===r&&u===s?i:(s=u,i=t(r=o,c)))}}function wi(e,t){var n=Se(e),r=n==="transform"?$n:Dt;return this.attrTween(e,typeof t=="function"?(n.local?xi:gi)(n,r,Qe(this,"attr."+e,t)):t==null?(n.local?di:fi)(n):(n.local?mi:pi)(n,r,t))}function yi(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function vi(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function bi(e,t){var n,r;function s(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&vi(e,i)),n}return s._value=t,s}function _i(e,t){var n,r;function s(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&yi(e,i)),n}return s._value=t,s}function ki(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Se(e);return this.tween(n,(r.local?bi:_i)(r,t))}function Ni(e,t){return function(){Ze(this,e).delay=+t.apply(this,arguments)}}function Ai(e,t){return t=+t,function(){Ze(this,e).delay=t}}function ji(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Ni:Ai)(t,e)):X(this.node(),t).delay}function Si(e,t){return function(){G(this,e).duration=+t.apply(this,arguments)}}function Ci(e,t){return t=+t,function(){G(this,e).duration=t}}function Ei(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Si:Ci)(t,e)):X(this.node(),t).duration}function Ti(e,t){if(typeof t!="function")throw new Error;return function(){G(this,e).ease=t}}function zi(e){var t=this._id;return arguments.length?this.each(Ti(t,e)):X(this.node(),t).ease}function Mi(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;G(this,e).ease=n}}function $i(e){if(typeof e!="function")throw new Error;return this.each(Mi(this._id,e))}function Ii(e){typeof e!="function"&&(e=kt(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var i=t[s],o=i.length,c=r[s]=[],u,a=0;a<o;++a)(u=i[a])&&e.call(u,u.__data__,a,i)&&c.push(u);return new Q(r,this._parents,this._name,this._id)}function Li(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,s=n.length,i=Math.min(r,s),o=new Array(r),c=0;c<i;++c)for(var u=t[c],a=n[c],h=u.length,d=o[c]=new Array(h),p,m=0;m<h;++m)(p=u[m]||a[m])&&(d[m]=p);for(;c<r;++c)o[c]=t[c];return new Q(o,this._parents,this._name,this._id)}function Ri(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function Di(e,t,n){var r,s,i=Ri(t)?Ze:G;return function(){var o=i(this,e),c=o.on;c!==r&&(s=(r=c).copy()).on(t,n),o.on=s}}function Fi(e,t){var n=this._id;return arguments.length<2?X(this.node(),n).on.on(e):this.each(Di(n,e,t))}function Oi(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function Bi(){return this.on("end.remove",Oi(this._id))}function Pi(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Ke(e));for(var r=this._groups,s=r.length,i=new Array(s),o=0;o<s;++o)for(var c=r[o],u=c.length,a=i[o]=new Array(u),h,d,p=0;p<u;++p)(h=c[p])&&(d=e.call(h,h.__data__,p,c))&&("__data__"in h&&(d.__data__=h.__data__),a[p]=d,Ee(a[p],t,n,p,a,X(h,n)));return new Q(i,this._parents,t,n)}function Hi(e){var t=this._name,n=this._id;typeof e!="function"&&(e=_t(e));for(var r=this._groups,s=r.length,i=[],o=[],c=0;c<s;++c)for(var u=r[c],a=u.length,h,d=0;d<a;++d)if(h=u[d]){for(var p=e.call(h,h.__data__,d,u),m,N=X(h,n),v=0,_=p.length;v<_;++v)(m=p[v])&&Ee(m,t,n,v,p,N);i.push(p),o.push(h)}return new Q(i,o,t,n)}var Ui=de.prototype.constructor;function Xi(){return new Ui(this._groups,this._parents)}function Vi(e,t){var n,r,s;return function(){var i=ie(this,e),o=(this.style.removeProperty(e),ie(this,e));return i===o?null:i===n&&o===r?s:s=t(n=i,r=o)}}function Ft(e){return function(){this.style.removeProperty(e)}}function qi(e,t,n){var r,s=n+"",i;return function(){var o=ie(this,e);return o===s?null:o===r?i:i=t(r=o,n)}}function Gi(e,t,n){var r,s,i;return function(){var o=ie(this,e),c=n(this),u=c+"";return c==null&&(u=c=(this.style.removeProperty(e),ie(this,e))),o===u?null:o===r&&u===s?i:(s=u,i=t(r=o,c))}}function Ki(e,t){var n,r,s,i="style."+t,o="end."+i,c;return function(){var u=G(this,e),a=u.on,h=u.value[i]==null?c||(c=Ft(t)):void 0;(a!==n||s!==h)&&(r=(n=a).copy()).on(o,s=h),u.on=r}}function Yi(e,t,n){var r=(e+="")=="transform"?Mn:Dt;return t==null?this.styleTween(e,Vi(e,r)).on("end.style."+e,Ft(e)):typeof t=="function"?this.styleTween(e,Gi(e,r,Qe(this,"style."+e,t))).each(Ki(this._id,e)):this.styleTween(e,qi(e,r,t),n).on("end.style."+e,null)}function Wi(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function Zi(e,t,n){var r,s;function i(){var o=t.apply(this,arguments);return o!==s&&(r=(s=o)&&Wi(e,o,n)),r}return i._value=t,i}function Qi(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,Zi(e,t,n??""))}function Ji(e){return function(){this.textContent=e}}function eo(e){return function(){var t=e(this);this.textContent=t??""}}function to(e){return this.tween("text",typeof e=="function"?eo(Qe(this,"text",e)):Ji(e==null?"":e+""))}function no(e){return function(t){this.textContent=e.call(this,t)}}function ro(e){var t,n;function r(){var s=e.apply(this,arguments);return s!==n&&(t=(n=s)&&no(s)),t}return r._value=e,r}function so(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,ro(e))}function io(){for(var e=this._name,t=this._id,n=Ot(),r=this._groups,s=r.length,i=0;i<s;++i)for(var o=r[i],c=o.length,u,a=0;a<c;++a)if(u=o[a]){var h=X(u,t);Ee(u,e,n,a,o,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new Q(r,this._parents,e,n)}function oo(){var e,t,n=this,r=n._id,s=n.size();return new Promise(function(i,o){var c={value:o},u={value:function(){--s===0&&i()}};n.each(function(){var a=G(this,r),h=a.on;h!==e&&(t=(e=h).copy(),t._.cancel.push(c),t._.interrupt.push(c),t._.end.push(u)),a.on=t}),s===0&&i()})}var ao=0;function Q(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Ot(){return++ao}var W=de.prototype;Q.prototype={constructor:Q,select:Pi,selectAll:Hi,selectChild:W.selectChild,selectChildren:W.selectChildren,filter:Ii,merge:Li,selection:Xi,transition:io,call:W.call,nodes:W.nodes,node:W.node,size:W.size,empty:W.empty,each:W.each,on:Fi,attr:wi,attrTween:ki,style:Yi,styleTween:Qi,text:to,textTween:so,remove:Bi,tween:hi,delay:ji,duration:Ei,ease:zi,easeVarying:$i,end:oo,[Symbol.iterator]:W[Symbol.iterator]};function lo(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var co={time:null,delay:0,duration:250,ease:lo};function uo(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function ho(e){var t,n;e instanceof Q?(t=e._id,e=e._name):(t=Ot(),(n=co).time=We(),e=e==null?null:e+"");for(var r=this._groups,s=r.length,i=0;i<s;++i)for(var o=r[i],c=o.length,u,a=0;a<c;++a)(u=o[a])&&Ee(u,e,t,a,o,n||uo(u,t));return new Q(r,this._parents,e,t)}de.prototype.interrupt=li;de.prototype.transition=ho;const me=e=>()=>e;function fo(e,{sourceEvent:t,target:n,transform:r,dispatch:s}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:s}})}function Z(e,t,n){this.k=e,this.x=t,this.y=n}Z.prototype={constructor:Z,scale:function(e){return e===1?this:new Z(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Z(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var je=new Z(1,0,0);Z.prototype;function Re(e){e.stopImmediatePropagation()}function le(e){e.preventDefault(),e.stopImmediatePropagation()}function po(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function mo(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function dt(){return this.__zoom||je}function go(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function xo(){return navigator.maxTouchPoints||"ontouchstart"in this}function wo(e,t,n){var r=e.invertX(t[0][0])-n[0][0],s=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],o=e.invertY(t[1][1])-n[1][1];return e.translate(s>r?(r+s)/2:Math.min(0,r)||Math.max(0,s),o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o))}function ge(){var e=po,t=mo,n=wo,r=go,s=xo,i=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],c=250,u=Dn,a=Ge("start","zoom","end"),h,d,p,m=500,N=150,v=0,_=10;function w(f){f.property("__zoom",dt).on("wheel.zoom",re,{passive:!1}).on("mousedown.zoom",se).on("dblclick.zoom",J).filter(s).on("touchstart.zoom",x).on("touchmove.zoom",R).on("touchend.zoom touchcancel.zoom",O).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}w.transform=function(f,y,g,b){var k=f.selection?f.selection():f;k.property("__zoom",dt),f!==k?D(f,y,g,b):k.interrupt().each(function(){F(this,arguments).event(b).start().zoom(null,typeof y=="function"?y.apply(this,arguments):y).end()})},w.scaleBy=function(f,y,g,b){w.scaleTo(f,function(){var k=this.__zoom.k,A=typeof y=="function"?y.apply(this,arguments):y;return k*A},g,b)},w.scaleTo=function(f,y,g,b){w.transform(f,function(){var k=t.apply(this,arguments),A=this.__zoom,S=g==null?$(k):typeof g=="function"?g.apply(this,arguments):g,E=A.invert(S),z=typeof y=="function"?y.apply(this,arguments):y;return n(T(j(A,z),S,E),k,o)},g,b)},w.translateBy=function(f,y,g,b){w.transform(f,function(){return n(this.__zoom.translate(typeof y=="function"?y.apply(this,arguments):y,typeof g=="function"?g.apply(this,arguments):g),t.apply(this,arguments),o)},null,b)},w.translateTo=function(f,y,g,b,k){w.transform(f,function(){var A=t.apply(this,arguments),S=this.__zoom,E=b==null?$(A):typeof b=="function"?b.apply(this,arguments):b;return n(je.translate(E[0],E[1]).scale(S.k).translate(typeof y=="function"?-y.apply(this,arguments):-y,typeof g=="function"?-g.apply(this,arguments):-g),A,o)},b,k)};function j(f,y){return y=Math.max(i[0],Math.min(i[1],y)),y===f.k?f:new Z(y,f.x,f.y)}function T(f,y,g){var b=y[0]-g[0]*f.k,k=y[1]-g[1]*f.k;return b===f.x&&k===f.y?f:new Z(f.k,b,k)}function $(f){return[(+f[0][0]+ +f[1][0])/2,(+f[0][1]+ +f[1][1])/2]}function D(f,y,g,b){f.on("start.zoom",function(){F(this,arguments).event(b).start()}).on("interrupt.zoom end.zoom",function(){F(this,arguments).event(b).end()}).tween("zoom",function(){var k=this,A=arguments,S=F(k,A).event(b),E=t.apply(k,A),z=g==null?$(E):typeof g=="function"?g.apply(k,A):g,q=Math.max(E[1][0]-E[0][0],E[1][1]-E[0][1]),I=k.__zoom,H=typeof y=="function"?y.apply(k,A):y,K=u(I.invert(z).concat(q/I.k),H.invert(z).concat(q/H.k));return function(U){if(U===1)U=H;else{var Y=K(U),Te=q/Y[2];U=new Z(Te,z[0]-Y[0]*Te,z[1]-Y[1]*Te)}S.zoom(null,U)}})}function F(f,y,g){return!g&&f.__zooming||new V(f,y)}function V(f,y){this.that=f,this.args=y,this.active=0,this.sourceEvent=null,this.extent=t.apply(f,y),this.taps=0}V.prototype={event:function(f){return f&&(this.sourceEvent=f),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(f,y){return this.mouse&&f!=="mouse"&&(this.mouse[1]=y.invert(this.mouse[0])),this.touch0&&f!=="touch"&&(this.touch0[1]=y.invert(this.touch0[0])),this.touch1&&f!=="touch"&&(this.touch1[1]=y.invert(this.touch1[0])),this.that.__zoom=y,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(f){var y=P(this.that).datum();a.call(f,this.that,new fo(f,{sourceEvent:this.sourceEvent,target:w,transform:this.that.__zoom,dispatch:a}),y)}};function re(f,...y){if(!e.apply(this,arguments))return;var g=F(this,y).event(f),b=this.__zoom,k=Math.max(i[0],Math.min(i[1],b.k*Math.pow(2,r.apply(this,arguments)))),A=ee(f);if(g.wheel)(g.mouse[0][0]!==A[0]||g.mouse[0][1]!==A[1])&&(g.mouse[1]=b.invert(g.mouse[0]=A)),clearTimeout(g.wheel);else{if(b.k===k)return;g.mouse=[A,b.invert(A)],be(this),g.start()}le(f),g.wheel=setTimeout(S,N),g.zoom("mouse",n(T(j(b,k),g.mouse[0],g.mouse[1]),g.extent,o));function S(){g.wheel=null,g.end()}}function se(f,...y){if(p||!e.apply(this,arguments))return;var g=f.currentTarget,b=F(this,y,!0).event(f),k=P(f.view).on("mousemove.zoom",z,!0).on("mouseup.zoom",q,!0),A=ee(f,g),S=f.clientX,E=f.clientY;Js(f.view),Re(f),b.mouse=[A,this.__zoom.invert(A)],be(this),b.start();function z(I){if(le(I),!b.moved){var H=I.clientX-S,K=I.clientY-E;b.moved=H*H+K*K>v}b.event(I).zoom("mouse",n(T(b.that.__zoom,b.mouse[0]=ee(I,g),b.mouse[1]),b.extent,o))}function q(I){k.on("mousemove.zoom mouseup.zoom",null),ei(I.view,b.moved),le(I),b.event(I).end()}}function J(f,...y){if(e.apply(this,arguments)){var g=this.__zoom,b=ee(f.changedTouches?f.changedTouches[0]:f,this),k=g.invert(b),A=g.k*(f.shiftKey?.5:2),S=n(T(j(g,A),b,k),t.apply(this,y),o);le(f),c>0?P(this).transition().duration(c).call(D,S,b,f):P(this).call(w.transform,S,b,f)}}function x(f,...y){if(e.apply(this,arguments)){var g=f.touches,b=g.length,k=F(this,y,f.changedTouches.length===b).event(f),A,S,E,z;for(Re(f),S=0;S<b;++S)E=g[S],z=ee(E,this),z=[z,this.__zoom.invert(z),E.identifier],k.touch0?!k.touch1&&k.touch0[2]!==z[2]&&(k.touch1=z,k.taps=0):(k.touch0=z,A=!0,k.taps=1+!!h);h&&(h=clearTimeout(h)),A&&(k.taps<2&&(d=z[0],h=setTimeout(function(){h=null},m)),be(this),k.start())}}function R(f,...y){if(this.__zooming){var g=F(this,y).event(f),b=f.changedTouches,k=b.length,A,S,E,z;for(le(f),A=0;A<k;++A)S=b[A],E=ee(S,this),g.touch0&&g.touch0[2]===S.identifier?g.touch0[0]=E:g.touch1&&g.touch1[2]===S.identifier&&(g.touch1[0]=E);if(S=g.that.__zoom,g.touch1){var q=g.touch0[0],I=g.touch0[1],H=g.touch1[0],K=g.touch1[1],U=(U=H[0]-q[0])*U+(U=H[1]-q[1])*U,Y=(Y=K[0]-I[0])*Y+(Y=K[1]-I[1])*Y;S=j(S,Math.sqrt(U/Y)),E=[(q[0]+H[0])/2,(q[1]+H[1])/2],z=[(I[0]+K[0])/2,(I[1]+K[1])/2]}else if(g.touch0)E=g.touch0[0],z=g.touch0[1];else return;g.zoom("touch",n(T(S,E,z),g.extent,o))}}function O(f,...y){if(this.__zooming){var g=F(this,y).event(f),b=f.changedTouches,k=b.length,A,S;for(Re(f),p&&clearTimeout(p),p=setTimeout(function(){p=null},m),A=0;A<k;++A)S=b[A],g.touch0&&g.touch0[2]===S.identifier?delete g.touch0:g.touch1&&g.touch1[2]===S.identifier&&delete g.touch1;if(g.touch1&&!g.touch0&&(g.touch0=g.touch1,delete g.touch1),g.touch0)g.touch0[1]=this.__zoom.invert(g.touch0[0]);else if(g.end(),g.taps===2&&(S=ee(S,this),Math.hypot(d[0]-S[0],d[1]-S[1])<_)){var E=P(this).on("dblclick.zoom");E&&E.apply(this,arguments)}}}return w.wheelDelta=function(f){return arguments.length?(r=typeof f=="function"?f:me(+f),w):r},w.filter=function(f){return arguments.length?(e=typeof f=="function"?f:me(!!f),w):e},w.touchable=function(f){return arguments.length?(s=typeof f=="function"?f:me(!!f),w):s},w.extent=function(f){return arguments.length?(t=typeof f=="function"?f:me([[+f[0][0],+f[0][1]],[+f[1][0],+f[1][1]]]),w):t},w.scaleExtent=function(f){return arguments.length?(i[0]=+f[0],i[1]=+f[1],w):[i[0],i[1]]},w.translateExtent=function(f){return arguments.length?(o[0][0]=+f[0][0],o[1][0]=+f[1][0],o[0][1]=+f[0][1],o[1][1]=+f[1][1],w):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},w.constrain=function(f){return arguments.length?(n=f,w):n},w.duration=function(f){return arguments.length?(c=+f,w):c},w.interpolate=function(f){return arguments.length?(u=f,w):u},w.on=function(){var f=a.on.apply(a,arguments);return f===a?w:f},w.clickDistance=function(f){return arguments.length?(v=(f=+f)*f,w):Math.sqrt(v)},w.tapDistance=function(f){return arguments.length?(_=+f,w):_},w}const yo=e=>{switch(e){case C.SAFE:return"#10b981";case C.CAUTION:return"#f59e0b";case C.HIGH:return"#f43f5e";default:return"#94a3b8"}},vo=({audits:e})=>{const[t,n]=M.useState(null),r=M.useRef(null),s=M.useRef(null),[i,o]=M.useState(1),c=M.useMemo(()=>({name:"Project Root",version:"",license:"N/A",riskLevel:C.UNKNOWN,reason:"Primary entry point",isFriendly:!0,children:e}),[e]),u=M.useMemo(()=>{const v=qe(c);return gr().nodeSize([80,240])(v)},[c]);M.useEffect(()=>{if(!r.current||!s.current)return;const v=P(r.current),_=P(s.current),w=ge().scaleExtent([.1,3]).on("zoom",T=>{_.attr("transform",T.transform),o(T.transform.k)});v.call(w);const j=je.translate(100,350).scale(.8);return v.call(w.transform,j),()=>{v.on(".zoom",null)}},[]);const a=()=>{r.current&&P(r.current).transition().call(ge().scaleBy,1.3)},h=()=>{r.current&&P(r.current).transition().call(ge().scaleBy,.7)},d=()=>{r.current&&P(r.current).transition().call(ge().transform,je.translate(100,350).scale(.8))},p=u.descendants(),m=u.links(),N=v=>v?.toLowerCase().includes("github.com");return l.jsxs("div",{className:"relative w-full h-[700px] bg-[#f8f9fa] dark:bg-slate-950 rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden shadow-inner group",children:[l.jsx("div",{className:"absolute inset-0 pointer-events-none opacity-[0.03]",style:{backgroundImage:"radial-gradient(#000 1px, transparent 0)",backgroundSize:"24px 24px"}}),l.jsxs("div",{className:"absolute top-4 left-4 z-10 flex gap-2",children:[l.jsxs("div",{className:"bg-white/90 dark:bg-slate-900/90 backdrop-blur-md px-3 py-1.5 rounded-lg border border-slate-200 dark:border-slate-800 shadow-sm flex items-center gap-2",children:[l.jsx(pn,{className:"w-3.5 h-3.5 text-blue-500"}),l.jsx("span",{className:"text-[10px] text-slate-600 dark:text-slate-400 font-bold uppercase tracking-wider text-nowrap",children:"Drag to Pan  Scroll to Zoom"})]}),l.jsx("div",{className:"bg-white/90 dark:bg-slate-900/90 backdrop-blur-md px-3 py-1.5 rounded-lg border border-slate-200 dark:border-slate-800 shadow-sm flex items-center gap-2",children:l.jsxs("span",{className:"text-[10px] text-slate-600 dark:text-slate-400 font-bold uppercase tracking-wider text-nowrap",children:["Zoom: ",Math.round(i*100),"%"]})})]}),l.jsxs("div",{className:"absolute bottom-6 left-6 z-10 flex flex-col gap-2",children:[l.jsx("button",{onClick:a,className:"p-2 bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 shadow-sm hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors text-slate-600 dark:text-slate-400",children:l.jsx(kn,{className:"w-5 h-5"})}),l.jsx("button",{onClick:h,className:"p-2 bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 shadow-sm hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors text-slate-600 dark:text-slate-400",children:l.jsx(An,{className:"w-5 h-5"})}),l.jsx("button",{onClick:d,className:"p-2 bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 shadow-sm hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors text-slate-600 dark:text-slate-400",children:l.jsx(fn,{className:"w-5 h-5"})})]}),l.jsx("svg",{ref:r,width:"100%",height:"100%",className:"cursor-grab active:cursor-grabbing outline-none",children:l.jsxs("g",{ref:s,children:[m.map((v,_)=>l.jsx("path",{d:En().x(w=>w.y).y(w=>w.x)({source:v.source,target:v.target})||void 0,fill:"none",stroke:"#cbd5e1",strokeWidth:"2",strokeDasharray:"4"},`link-${_}`)),p.map((v,_)=>l.jsxs("g",{transform:`translate(${v.y},${v.x})`,onClick:()=>n(v.data),className:"cursor-pointer group/node",children:[l.jsx("circle",{r:"6",fill:yo(v.data.riskLevel),stroke:"#fff",strokeWidth:"2",className:"group-hover/node:r-8 transition-all"}),l.jsx("text",{dy:".31em",x:v.children?-12:12,style:{textAnchor:v.children?"end":"start",fontSize:"11px",fontWeight:800,fill:"currentColor"},className:"text-slate-900 dark:text-slate-200",children:v.data.name})]},`node-${_}`))]})}),t&&l.jsxs("div",{className:"absolute top-4 right-4 w-80 bg-white/95 dark:bg-slate-900/95 backdrop-blur-md p-6 rounded-3xl border border-slate-200 dark:border-slate-800 shadow-2xl animate-in fade-in slide-in-from-right-4",children:[l.jsx("button",{onClick:()=>n(null),className:"absolute top-4 right-4 text-slate-400 hover:text-slate-600 dark:hover:text-slate-200",children:l.jsx(gt,{className:"w-4 h-4"})}),l.jsxs("div",{className:"mb-4",children:[l.jsx("h4",{className:"font-black text-slate-900 dark:text-white pr-6",children:t.name}),l.jsxs("p",{className:"text-[10px] text-slate-400 font-mono",children:["v",t.version]})]}),l.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[l.jsx("span",{className:"px-2.5 py-1 bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 text-[10px] font-black rounded-lg border border-blue-100 dark:border-blue-800 uppercase tracking-tight",children:t.license}),l.jsx("span",{className:`px-2.5 py-1 text-[10px] font-black rounded-lg uppercase border tracking-tight ${t.riskLevel===C.SAFE?"bg-emerald-50 text-emerald-700 border-emerald-100 dark:bg-emerald-900/30 dark:text-emerald-400 dark:border-emerald-800":t.riskLevel===C.CAUTION?"bg-amber-50 text-amber-700 border-amber-100 dark:bg-amber-900/30 dark:text-amber-400 dark:border-amber-800":"bg-rose-50 text-rose-700 border-rose-100 dark:bg-rose-900/30 dark:text-rose-400 dark:border-rose-800"}`,children:t.riskLevel})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Audit Reasoning"}),l.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400 leading-relaxed",children:t.reason})]}),t.repository&&l.jsxs("a",{href:t.repository,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-[10px] font-black text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 transition-colors uppercase tracking-widest",children:[N(t.repository)?l.jsx(Ve,{className:"w-3.5 h-3.5"}):l.jsx(xt,{className:"w-3.5 h-3.5"}),"View Source ",l.jsx(sn,{className:"w-3 h-3"})]})]})]})]})},pt={[C.HIGH]:3,[C.CAUTION]:2,[C.SAFE]:1,[C.UNKNOWN]:0},mt=({type:e,size:t="text-2xl"})=>{const r={npm:{icon:"devicon-npm-original-wordmark",bg:"bg-[#CB3837]/10",color:"text-[#CB3837]"},python:{icon:"devicon-python-plain",bg:"bg-[#3776AB]/10",color:"text-[#3776AB]"},go:{icon:"devicon-go-plain",bg:"bg-[#00ADD8]/10",color:"text-[#00ADD8]"},rust:{icon:"devicon-rust-plain",bg:"bg-[#CE412B]/10",color:"text-[#CE412B]"},maven:{icon:"devicon-maven-plain",bg:"bg-[#C71A36]/10",color:"text-[#C71A36]"},gradle:{icon:"devicon-gradle-plain",bg:"bg-[#02303A]/10 dark:bg-[#00DE7A]/10",color:"text-[#02303A] dark:text-[#00DE7A]"},swift:{icon:"devicon-swift-plain",bg:"bg-[#F05138]/10",color:"text-[#F05138]"}}[e]||{icon:"",bg:"bg-slate-100 dark:bg-white/5",color:"text-slate-400"};return l.jsx("div",{className:`p-1.5 rounded-lg ${r.bg} ${r.color} flex items-center justify-center`,children:r.icon?l.jsx("i",{className:`${r.icon} ${t}`}):l.jsx(wt,{className:"w-5 h-5"})})},bo=()=>{const{t:e}=Xe(),[t,n]=M.useState(""),[r,s]=M.useState(""),[i,o]=M.useState(!1),[c,u]=M.useState(!1),[a,h]=M.useState([]),[d,p]=M.useState("table"),[m,N]=M.useState(null),[v,_]=M.useState(!1),[w,j]=M.useState(!1),T=a.length>0&&a.every(x=>x.status==="success"||x.status==="error"),$=M.useMemo(()=>[...a].sort((x,R)=>{const O=x.result?pt[x.result.riskLevel]:-1,f=R.result?pt[R.result.riskLevel]:-1;return f!==O?f-O:x.name.localeCompare(R.name)}),[a]);M.useEffect(()=>{if(T&&a.length>0&&!c){const x=setTimeout(()=>{_(!0),window.scrollTo({top:100,behavior:"smooth"})},1200);return()=>clearTimeout(x)}},[T,a.length,c]);const D=async()=>{if(r.trim()){o(!0),N(null);try{let x=r.trim();x.includes("github.com")&&!x.includes("raw.githubusercontent.com")&&!x.includes("/raw/")&&(x=x.replace("github.com","raw.githubusercontent.com").replace("/blob/","/"));const R=await fetch(x);if(!R.ok)throw new Error(`HTTP error! status: ${R.status}`);const O=await R.text();n(O)}catch(x){N(`Failed to fetch URL: ${x.message}`)}finally{o(!1)}}},F=x=>{const R=x.license?.toUpperCase()||"UNKNOWN",f=["MIT","ISC","BSD","APACHE","UNLICENSE","ZLIB","WTFPL","PUBLIC DOMAIN"].some(A=>R.includes(A));let y=x.riskLevel,g=x.isFriendly,b=x.reason;f&&(y=C.SAFE,g=!0,x.riskLevel!==C.SAFE&&(b=`[Auto-Correction] ${x.license} is a permissive and safe license. Original check suggested: ${x.reason}`));const k=x.repository||(x.name.includes("/")?`https://github.com/${x.name}`:`https://www.google.com/search?q=${x.name}+repo`);return{...x,repository:k,riskLevel:y,isFriendly:g,reason:b}},V=async()=>{if(!t.trim())return;u(!0),N(null),_(!1);const x=Bn(t);if(x.length===0){N(e("audit.noDeps")),u(!1);return}const R=x.map(y=>({name:y.name,version:y.version,status:"pending"})),O=[],f=[...R];if(x.forEach((y,g)=>{const b=y.name.toLowerCase(),k=Bt[b];if(k&&k.license&&Je[k.license]){const A=Je[k.license],S={name:y.name,version:y.version,license:k.license,repository:k.repository||`https://www.npmjs.com/package/${y.name}`,riskLevel:A.risk,isFriendly:A.friendly,reason:`[Internal DB] ${A.reason}`,sources:["System Database"]};f[g]={...f[g],status:"success",result:F(S)};return}Hn(y.name,y.version),O.push({...y,index:g}),f[g].status="loading"}),h(f),O.length===0){u(!1);return}try{const y=await Fn(O.map(g=>({name:g.name,version:g.version})));h(g=>{const b=[...g];return y.forEach(k=>{const A=O.find(S=>S.name.toLowerCase()===k.name.toLowerCase());if(A){const S=F(k);Pn(S),b[A.index]={...b[A.index],status:"success",result:S}}}),b.forEach(k=>{k.status==="loading"&&(k.status="error",k.error="No response")}),b})}catch{h(g=>{const b=[...g];return O.forEach(k=>{b[k.index].status==="loading"&&(b[k.index].status="error",b[k.index].error="Batch scan failed")}),b})}finally{u(!1)}},re=()=>{h([]),n(""),s(""),N(null),_(!1)},se=x=>x?.toLowerCase().includes("github.com"),J=["npm","python","go","rust","maven","gradle","swift"];return l.jsx("div",{className:"max-w-5xl mx-auto px-6 pt-16 pb-24",children:a.length===0?l.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-700",children:[l.jsxs("div",{className:"text-center mb-10",children:[l.jsx("h1",{className:"text-4xl sm:text-5xl font-extrabold text-black dark:text-white tracking-tighter mb-4",children:e("audit.title")}),l.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-lg font-medium",children:e("audit.desc")})]}),l.jsxs("div",{className:"space-y-4 mb-8",children:[l.jsxs("div",{className:"relative group",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3.5 flex items-center pointer-events-none",children:l.jsx(nn,{className:"h-4 w-4 text-slate-400"})}),l.jsx("input",{type:"text",value:r,onChange:x=>s(x.target.value),onKeyDown:x=>x.key==="Enter"&&D(),placeholder:e("audit.urlPlaceholder"),className:"block w-full pl-10 pr-24 py-3 bg-white dark:bg-[#0A0A0A] border border-slate-200 dark:border-white/10 rounded-2xl text-sm outline-none focus:border-black dark:focus:border-white/30 transition-all placeholder:text-slate-400 font-medium"}),l.jsxs("div",{className:"absolute inset-y-0 right-1.5 flex items-center gap-1",children:[r&&l.jsx("button",{onClick:()=>s(""),className:"p-1.5 text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 transition-colors",children:l.jsx(gt,{className:"w-3.5 h-3.5"})}),l.jsx("button",{onClick:D,disabled:i||!r,className:"px-4 py-1.5 bg-black dark:bg-white text-white dark:text-black rounded-xl text-xs font-bold disabled:opacity-50 transition-all active:scale-95",children:i?l.jsx($e,{className:"w-3.5 h-3.5 animate-spin"}):e("audit.fetchBtn")})]})]}),l.jsxs("div",{className:"bg-white dark:bg-[#0A0A0A] rounded-2xl border border-slate-200 dark:border-white/10 shadow-[0_0_50px_-12px_rgba(0,0,0,0.12)] dark:shadow-none overflow-hidden group focus-within:border-black dark:focus-within:border-white/30 transition-all",children:[l.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-white/5 bg-slate-50/50 dark:bg-white/[0.02] flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-slate-400 uppercase tracking-widest",children:[l.jsx(wt,{className:"w-3.5 h-3.5"})," ",e("audit.inputLabel")]}),l.jsxs("div",{className:"flex gap-4",children:[l.jsx("button",{onClick:()=>n(`module github.com/user/project

go 1.18

require (
  github.com/gin-gonic/gin v1.8.1
  github.com/sirupsen/logrus v1.9.0
)`),className:"text-[10px] font-bold text-blue-500 hover:text-blue-600 dark:text-blue-400",children:"Go Mod"}),l.jsx("button",{onClick:()=>n(`[dependencies]
serde = "1.0"
tokio = { version = "1.0", features = ["full"] }`),className:"text-[10px] font-bold text-blue-500 hover:text-blue-600 dark:text-blue-400",children:"Cargo"}),l.jsx("button",{onClick:()=>n(`{
  "dependencies": {
    "react": "^19.0.0",
    "next": "latest"
  }
}`),className:"text-[10px] font-bold text-blue-500 hover:text-blue-600 dark:text-blue-400",children:"NPM"})]})]}),l.jsx("textarea",{className:"w-full h-72 p-6 text-sm font-mono bg-transparent dark:text-slate-200 outline-none resize-none placeholder:text-slate-400 dark:placeholder:text-slate-600",placeholder:e("audit.placeholder"),value:t,onChange:x=>n(x.target.value)}),l.jsxs("div",{className:"p-4 flex items-center justify-between bg-slate-50/50 dark:bg-white/[0.02] border-t border-slate-100 dark:border-white/5",children:[l.jsx("div",{className:"text-[10px] font-medium text-slate-400 uppercase tracking-tight",children:"Support: NPM, Maven, Go, Rust, Gradle, Swift + Lock Files"}),l.jsxs("button",{onClick:V,disabled:c||!t.trim(),className:`px-6 py-2 rounded-lg flex items-center justify-center gap-2 text-sm font-bold transition-all ${c||!t.trim()?"bg-slate-200 dark:bg-white/5 text-slate-400":"bg-black dark:bg-white text-white dark:text-black hover:opacity-90 active:scale-95 shadow-lg"}`,children:[c?l.jsx($e,{className:"w-4 h-4 animate-spin"}):e("audit.run"),!c&&l.jsx(Pt,{className:"w-4 h-4"})]})]})]}),l.jsxs("div",{className:"bg-white dark:bg-[#0A0A0A] rounded-2xl border border-slate-200 dark:border-white/10 overflow-hidden transition-all shadow-sm",children:[l.jsxs("button",{onClick:()=>j(!w),className:"w-full flex items-center justify-between px-4 py-3 bg-slate-50/50 dark:bg-white/[0.02] hover:bg-slate-100 dark:hover:bg-white/[0.05] transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:[l.jsx(Ht,{className:"w-3.5 h-3.5"})," ",e("audit.supportedTitle")]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:"flex -space-x-1.5",children:[J.slice(0,4).map(x=>l.jsx("div",{className:"w-5 h-5 rounded-full bg-white dark:bg-slate-800 border border-slate-200 dark:border-white/10 flex items-center justify-center overflow-hidden",children:l.jsx(mt,{type:x,size:"text-xs"})},x)),l.jsxs("div",{className:"w-5 h-5 rounded-full bg-slate-100 dark:bg-slate-700 border border-slate-200 dark:border-white/10 flex items-center justify-center text-[8px] font-bold",children:["+",J.length-4]})]}),l.jsx(en,{className:`w-4 h-4 text-slate-400 transition-transform ${w?"rotate-90":""}`})]})]}),w&&l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 p-6 border-t border-slate-100 dark:border-white/5 animate-in slide-in-from-top-2 duration-300",children:J.map(x=>l.jsxs("div",{className:"p-4 bg-slate-50/50 dark:bg-white/[0.02] rounded-xl border border-slate-100 dark:border-white/5 group hover:border-black/10 dark:hover:border-white/10 transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[l.jsx(mt,{type:x}),l.jsx("span",{className:"text-[11px] font-black text-black dark:text-white uppercase tracking-tight",children:e(`audit.formats.${x}.name`)})]}),l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("span",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-widest mb-1",children:"Target File"}),l.jsx("code",{className:"text-[10px] font-mono text-blue-500 dark:text-blue-400 bg-blue-500/5 px-2 py-1 rounded inline-block w-fit",children:e(`audit.formats.${x}.file`)})]})]},x))})]})]}),m&&l.jsxs("div",{className:"mt-6 p-4 bg-rose-50 dark:bg-rose-900/10 border border-rose-100 dark:border-rose-900/30 rounded-xl flex items-center gap-3 text-rose-600 dark:text-rose-400 text-xs font-medium",children:[l.jsx(bn,{className:"w-4 h-4"}),m]})]}):l.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[l.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6 pb-6 border-b border-slate-200 dark:border-white/10",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-black text-black dark:text-white tracking-tight",children:e(T?"audit.completed":"audit.scanning")}),l.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[l.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] font-bold text-slate-400 uppercase tracking-wider",children:[l.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-rose-500"})," ",e("audit.riskHigh")]}),l.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] font-bold text-slate-400 uppercase tracking-wider",children:[l.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500"})," ",e("audit.riskSafe")]})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:re,className:"px-4 py-2 bg-slate-100 dark:bg-white/5 hover:bg-slate-200 dark:hover:bg-white/10 text-slate-600 dark:text-slate-300 rounded-lg text-xs font-bold transition-all flex items-center gap-2",children:[l.jsx(wn,{className:"w-3.5 h-3.5"})," ",e("audit.startOver")]}),T&&l.jsx("button",{onClick:()=>_(!v),className:"px-4 py-2 bg-black dark:bg-white text-white dark:text-black rounded-lg text-xs font-bold transition-all flex items-center gap-2 shadow-xl hover:scale-105",children:e(v?"audit.showQueue":"audit.showReport")})]})]}),v?l.jsxs("div",{className:"space-y-12 animate-in fade-in slide-in-from-top-4 duration-700",children:[l.jsx(Xn,{audits:a.filter(x=>x.result).map(x=>x.result)}),l.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200 dark:border-white/10 pb-4",children:[l.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[e("audit.resultsTitle")," ",l.jsx(Qt,{className:"w-3 h-3"})]}),l.jsxs("div",{className:"flex bg-slate-100 dark:bg-white/5 p-1 rounded-lg",children:[l.jsxs("button",{onClick:()=>p("table"),className:`px-3 py-1.5 rounded-md text-[10px] font-black uppercase transition-all flex items-center gap-2 ${d==="table"?"bg-white dark:bg-white/10 text-black dark:text-white shadow-sm":"text-slate-400 hover:text-slate-600"}`,children:[l.jsx(an,{className:"w-3 h-3"})," Table"]}),l.jsxs("button",{onClick:()=>p("tree"),className:`px-3 py-1.5 rounded-md text-[10px] font-black uppercase transition-all flex items-center gap-2 ${d==="tree"?"bg-white dark:bg-white/10 text-black dark:text-white shadow-sm":"text-slate-400 hover:text-slate-600"}`,children:[l.jsx(gn,{className:"w-3 h-3"})," Graph"]})]})]}),d==="table"?l.jsx(Un,{audits:a.filter(x=>x.result).map(x=>x.result)}):l.jsx(vo,{audits:a.filter(x=>x.result).map(x=>x.result)})]}):l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:$.map((x,R)=>l.jsxs("div",{className:`p-5 rounded-2xl border transition-all duration-300 flex flex-col justify-between group h-full ${x.status==="success"?"bg-white dark:bg-[#0A0A0A] border-slate-200 dark:border-white/10 shadow-sm":x.status==="loading"?"bg-white dark:bg-[#0A0A0A] border-blue-500 ring-4 ring-blue-500/5":x.status==="error"?"bg-rose-50/50 dark:bg-rose-900/5 border-rose-200 dark:border-rose-900/30":"bg-slate-50/50 dark:bg-white/[0.02] border-slate-100 dark:border-white/5 opacity-60"}`,children:[l.jsxs("div",{className:"flex items-start justify-between mb-4",children:[l.jsxs("div",{className:"overflow-hidden",children:[l.jsx("h4",{className:"font-bold text-sm text-black dark:text-white truncate",children:x.name}),l.jsxs("p",{className:"text-[10px] text-slate-400 font-mono mt-0.5",children:["v",x.version]})]}),x.status==="loading"&&l.jsx($e,{className:"w-4 h-4 text-blue-500 animate-spin"}),x.status==="success"&&l.jsx("div",{className:`w-2.5 h-2.5 rounded-full ring-4 ${x.result?.riskLevel===C.SAFE?"bg-emerald-500 ring-emerald-500/10":x.result?.riskLevel===C.CAUTION?"bg-amber-500 ring-amber-500/10":"bg-rose-500 ring-rose-500/10"}`})]}),l.jsxs("div",{className:"flex flex-col gap-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:`px-2 py-0.5 rounded text-[9px] font-black uppercase tracking-wider ${x.result?.riskLevel===C.HIGH?"bg-rose-100 dark:bg-rose-900/30 text-rose-600":"bg-slate-100 dark:bg-white/5 text-slate-600 dark:text-slate-400"}`,children:x.result?.license||(x.status==="loading"?"...":"?")}),x.result?.repository&&l.jsxs("a",{href:x.result.repository,target:"_blank",rel:"noreferrer",className:"flex items-center gap-1.5 text-[9px] font-bold text-blue-500 hover:text-blue-600 transition-colors uppercase",children:[se(x.result.repository)?l.jsx(Ve,{className:"w-3 h-3"}):l.jsx(cn,{className:"w-3 h-3"}),"Source"]})]}),x.result?.reason&&l.jsx("p",{className:"text-[10px] text-slate-400 dark:text-slate-500 line-clamp-2 leading-relaxed italic",children:x.result.reason})]})]},`${x.name}-${R}`))})]})})};function jo(){return l.jsx(bo,{})}export{jo as component};
